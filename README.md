# Auto Post to X

## 概要

WordPress の記事を自動的に X（旧 Twitter）に投稿するための WordPress プラグインです。新規投稿時と記事更新時の両方に対応しており、カスタマイズ可能な投稿テンプレートを提供します。

**現在のバージョン**: 1.0.0

## 主な機能

- WordPress の新規投稿を自動的に X に投稿
- 記事更新時の自動投稿（オプション）
- カスタムハッシュタグ機能
  - 投稿ごとに個別設定可能
  - デフォルトハッシュタグの設定
  - カテゴリーをハッシュタグとして使用可能
  - 最大ハッシュタグ数の制限設定
- カスタマイズ可能な更新投稿テンプレート
- 更新投稿の時間間隔制御
- 管理画面からの簡単設定
- テスト投稿機能

## インストール方法

1. プラグインの ZIP ファイルをダウンロード
2. WordPress の管理画面から「プラグイン」→「新規追加」→「プラグインのアップロード」を選択
3. ダウンロードした ZIP ファイルを選択してインストール
4. プラグインを有効化

## 設定方法

1. WordPress の管理画面から「設定」→「Auto Post to X 設定」に移動
2. 以下の認証情報を入力：
   - API Key
   - API Secret
   - Access Token
   - Access Token Secret
3. 必要に応じて以下の設定を行う：
   - 更新時の投稿有効/無効
   - 更新投稿の間隔
   - 投稿テンプレート
   - デフォルトハッシュタグ
   - カテゴリーハッシュタグの使用
   - 最大ハッシュタグ数

## 使用方法

### 新規投稿

- 通常通り WordPress で記事を投稿
- 必要に応じて「X 投稿用ハッシュタグ」ボックスでハッシュタグを設定
- 投稿時に自動的に X に投稿される

### ハッシュタグの設定

- 投稿編集画面の「X 投稿用ハッシュタグ」ボックスでカスタムハッシュタグを設定
- カンマ区切りで複数入力可能（例：tag1,tag2,tag3）
- #記号は自動的に付加される

### 更新投稿

- 設定画面で更新投稿を有効にすると、記事更新時にも自動投稿
- テンプレートを使用してカスタマイズされたメッセージを投稿可能
- 更新間隔を設定して、短時間での連続投稿を防止

### テンプレート変数

更新投稿テンプレートでは以下の変数が使用できます：

- `{title}` - 記事のタイトル
- `{url}` - 記事の URL

## 開発者向け情報

### 開発環境のセットアップ

1. リポジトリのクローン:

```bash
git clone [リポジトリURL]
cd auto-post-to-x
```

2. 開発用 WordPress へのシンボリックリンク作成:

```bash
ln -s /path/to/auto-post-to-x /path/to/wordpress/wp-content/plugins/
```

### デプロイ方法

デプロイには以下の 2 つの方法があります：

1. 手動デプロイ

   - ZIP ファイルをダウンロードして手動で WordPress にアップロード
   - プラグイン管理画面からインストール

2. 自動デプロイ（開発者用）
   - `deploy.ps1`スクリプトを使用（要 SSH 接続情報）
   - デプロイ設定のカスタマイズが必要
   - セキュリティ上の理由から、デプロイスクリプトは公開リポジトリには含まれていません

### セキュリティに関する注意事項

1. API 認証情報は必ず安全に保管してください
2. デプロイスクリプトには機密情報が含まれるため、公開リポジトリにコミットしないでください
3. WordPress の管理画面で API 認証情報を入力する際は、HTTPS が有効な環境で行ってください

### ディレクトリ構造

```
auto-post-to-x/
├── includes/
│   └── TwitterAPIExchange.php
├── wp-to-x-auto-post.php
├── README.md
├── readme.txt
└── LICENSE
```

### 開発時の注意事項

1. コミット前のチェックリスト

   - 機密情報が含まれていないことを確認
   - デバッグコードが残っていないことを確認
   - コードスタイルの確認
   - バージョン番号の更新（必要な場合）

2. プルリクエスト時の注意事項
   - 変更内容の詳細な説明を含める
   - テスト結果のスクリーンショットを添付（UI 変更がある場合）
   - 影響を受ける機能の一覧を記載

## 必要要件

- WordPress 5.0 以上
- PHP 7.0 以上
- cURL PHP 拡張
- X（Twitter）開発者アカウントと API 認証情報

## 注意事項

- X API の利用制限（Free Access：1 ヶ月あたり 1,500 ツイートまで）に注意してください
- API 認証情報は安全に保管してください
- 更新投稿の間隔は慎重に設定し、スパム的な投稿を避けてください

## トラブルシューティング

問題が発生した場合は、以下を確認してください：

1. API 認証情報が正しく入力されているか
2. WordPress のエラーログで詳細なエラー情報を確認
3. テスト投稿機能で接続テストを実行

## よくある質問（FAQ）

Q: 投稿が自動的に X に投稿されない  
A: API 認証情報が正しく設定されているか確認してください

Q: 更新投稿が動作しない  
A: 設定画面で更新投稿が有効になっているか、また更新間隔の設定を確認してください

Q: ハッシュタグが反映されない  
A: カスタムハッシュタグがカンマ区切りで正しく入力されているか確認してください

## 今後の予定

- [ ] カスタム投稿タイプのサポート
- [ ] 画像投稿機能の追加
- [ ] 投稿スケジュール機能
- [ ] 投稿テンプレートの追加オプション

## 更新履歴

- 1.0.0
  - 初回リリース
  - 基本的な投稿機能の実装
  - カスタムハッシュタグ機能の実装
  - 更新投稿機能の追加
  - テスト投稿機能の追加

## ライセンス

GPLv2 or later

## 作者

sorein

## サポート

問題や提案がある場合は、GitHub の Issue でご報告ください。

## 貢献

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## 謝辞

- [TwitterAPIExchange](https://github.com/J7mbo/twitter-api-php)ライブラリの作者である@J7mbo に感謝いたします
